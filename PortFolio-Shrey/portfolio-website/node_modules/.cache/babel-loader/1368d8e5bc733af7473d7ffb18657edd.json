{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shreeyash Pandey\\\\Downloads\\\\M11-Windows_lyst8560\\\\M11-Putting everything together\\\\portfolio-website\\\\src\\\\components\\\\AddBlog.js\";\nimport React, { Component } from \"react\";\nimport SimpleMDE from \"react-simplemde-editor\";\nimport \"easymde/dist/easymde.min.css\";\nimport ReactMarkdown from \"react-markdown\";\nimport { Consumer } from \"../context\";\nimport { v4 as uuid } from \"uuid\";\nimport axios from \"axios\";\n\nclass AddBlog extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      imageUrl: \"\",\n      title: \"\",\n      excerpt: \"\",\n      body: \"\",\n      submitMessage: \"\",\n      submitMessageTextColor: \"\"\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.onBodyChange = value => {\n      this.setState({\n        body: value\n      });\n    };\n\n    this.onSubmit = async (handler, event) => {\n      event.preventDefault();\n      const newBlog = {\n        id: uuid(),\n        imageUrl: this.state.imageUrl,\n        title: this.state.title,\n        excerpt: this.state.excerpt,\n        body: this.state.body\n      };\n      const response = await axios.post(\"http://127.0.0.1:9000/api/blog\", newBlog);\n      const isSuccessful = response.data.isSuccessful;\n\n      if (isSuccessful) {\n        this.setState({\n          submitMessage: `Blog published successfully`,\n          submitMessageTextColor: \"text-info\"\n        });\n      } else {\n        this.setState({\n          submitMessage: \"Publish failed :(\",\n          submitMessageTextColor: \"text-danger\"\n        });\n      }\n\n      handler(\"ADD_BLOG\", newBlog);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, value => {\n      const {\n        imageUrl,\n        title,\n        body,\n        submitMessage,\n        submitMessageTextColor\n      } = this.state;\n      const {\n        handler\n      } = value;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid my-5 py-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"text-center my-5 font-weight-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }, \"Add \", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }\n      }, \"Blog\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row px-3 px-lg-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-lg-6 px-lg-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmit.bind(this, handler),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"imageUrl\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 23\n        }\n      }, \"Featured Image Url *\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"imageUrl\",\n        id: \"imageUrl\",\n        className: \"form-control\",\n        onChange: this.onChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 23\n        }\n      }, \"Title *\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        id: \"title\",\n        className: \"form-control\",\n        onChange: this.onChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"excerpt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 23\n        }\n      }, \"Excerpt *\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"excerpt\",\n        id: \"excerpt\",\n        className: \"form-control\",\n        onChange: this.onChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(SimpleMDE, {\n        onChange: this.onBodyChange,\n        options: {\n          hideIcons: [\"preview\", \"side-by-side\", \"fullscreen\"]\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-dark btn-block my-5\",\n        style: {\n          backgroundColor: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }\n      }, \"Publish\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: submitMessageTextColor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }, submitMessage))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-lg-6 markdown\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: imageUrl,\n        alt: title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"font-weight-light text-center my-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 19\n        }\n      }, title), /*#__PURE__*/React.createElement(ReactMarkdown, {\n        source: body,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 19\n        }\n      }))));\n    });\n  }\n\n}\n\nexport default AddBlog;","map":{"version":3,"sources":["C:/Users/Shreeyash Pandey/Downloads/M11-Windows_lyst8560/M11-Putting everything together/portfolio-website/src/components/AddBlog.js"],"names":["React","Component","SimpleMDE","ReactMarkdown","Consumer","v4","uuid","axios","AddBlog","state","imageUrl","title","excerpt","body","submitMessage","submitMessageTextColor","onChange","event","setState","target","name","value","onBodyChange","onSubmit","handler","preventDefault","newBlog","id","response","post","isSuccessful","data","render","bind","hideIcons","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SimpleMDE from \"react-simplemde-editor\";\nimport \"easymde/dist/easymde.min.css\";\nimport ReactMarkdown from \"react-markdown\";\nimport { Consumer } from \"../context\";\nimport { v4 as uuid } from \"uuid\";\nimport axios from \"axios\";\n\nclass AddBlog extends Component {\n  state = {\n    imageUrl: \"\",\n    title: \"\",\n    excerpt: \"\",\n    body: \"\",\n    submitMessage: \"\",\n    submitMessageTextColor: \"\",\n  };\n\n  onChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  onBodyChange = (value) => {\n    this.setState({\n      body: value,\n    });\n  };\n\n  onSubmit = async (handler, event) => {\n    event.preventDefault();\n\n    const newBlog = {\n      id: uuid(),\n      imageUrl: this.state.imageUrl,\n      title: this.state.title,\n      excerpt: this.state.excerpt,\n      body: this.state.body,\n    };\n\n    const response = await axios.post(\n      \"http://127.0.0.1:9000/api/blog\",\n      newBlog\n    );\n\n    const isSuccessful = response.data.isSuccessful;\n\n    if (isSuccessful) {\n      this.setState({\n        submitMessage: `Blog published successfully`,\n        submitMessageTextColor: \"text-info\",\n      });\n    } else {\n      this.setState({\n        submitMessage: \"Publish failed :(\",\n        submitMessageTextColor: \"text-danger\",\n      });\n    }\n\n    handler(\"ADD_BLOG\", newBlog);\n  };\n\n  render() {\n    return (\n      <Consumer>\n        {(value) => {\n          const {\n            imageUrl,\n            title,\n            body,\n            submitMessage,\n            submitMessageTextColor,\n          } = this.state;\n          const { handler } = value;\n          return (\n            <div className=\"container-fluid my-5 py-5\">\n              <h1 className=\"text-center my-5 font-weight-light\">\n                Add <span className=\"text-info\">Blog</span>\n              </h1>\n              <div className=\"row px-3 px-lg-5\">\n                <div className=\"col-12 col-lg-6 px-lg-5\">\n                  <form onSubmit={this.onSubmit.bind(this, handler)}>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"imageUrl\">Featured Image Url *</label>\n                      <input\n                        type=\"text\"\n                        name=\"imageUrl\"\n                        id=\"imageUrl\"\n                        className=\"form-control\"\n                        onChange={this.onChange}\n                        required\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"title\">Title *</label>\n                      <input\n                        type=\"text\"\n                        name=\"title\"\n                        id=\"title\"\n                        className=\"form-control\"\n                        onChange={this.onChange}\n                        required\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <label htmlFor=\"excerpt\">Excerpt *</label>\n                      <input\n                        type=\"text\"\n                        name=\"excerpt\"\n                        id=\"excerpt\"\n                        className=\"form-control\"\n                        onChange={this.onChange}\n                        required\n                      />\n                    </div>\n                    <SimpleMDE\n                      onChange={this.onBodyChange}\n                      options={{\n                        hideIcons: [\"preview\", \"side-by-side\", \"fullscreen\"],\n                      }}\n                    />\n                    <button\n                      type=\"submit\"\n                      className=\"btn btn-dark btn-block my-5\"\n                      style={{ backgroundColor: \"black\" }}\n                    >\n                      Publish\n                    </button>\n                  </form>\n                  <div className=\"text-center\">\n                    <h5 className={submitMessageTextColor}>{submitMessage}</h5>\n                  </div>\n                </div>\n                <div className=\"col-12 col-lg-6 markdown\">\n                  <div className=\"justify-content-center\">\n                    <img src={imageUrl} alt={title} />\n                  </div>\n                  <h1 className=\"font-weight-light text-center my-5\">\n                    {title}\n                  </h1>\n                  <ReactMarkdown source={body} />\n                </div>\n              </div>\n            </div>\n          );\n        }}\n      </Consumer>\n    );\n  }\n}\n\nexport default AddBlog;\n"]},"metadata":{},"sourceType":"module"}